{% extends "shared/_layout.html" %}
{% block additional_css %}
{% endblock %}
{% block main_content %}
	<div class = "row-cards">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js" integrity="sha256-xKeoJ50pzbUGkpQxDYHD7o7hxe0LaOGeguUidbq6vis=" crossorigin="anonymous"></script>
		{% for chart in charts %}
		    <div class="two-card">
		    	<h3>{{chart["name"]}}</h3>
				<canvas id="chart_canvas{{loop.index}}" style='width="100%" height="100%"'></canvas>
				<script>
				var ctx{{loop.index}} = document.getElementById('chart_canvas{{loop.index}}').getContext('2d');
				var chart{{loop.index}} = new Chart(ctx{{loop.index}}, {
				    type: '{{ chart.chart_type }}',
				    data: {
				        labels: [
				            		{% for item in chart["labels"] %}
						            	"{{item}}",
						            {% endfor %}
				        ],
				        datasets: [{
				            // label: '{{ chart.name }}',
				            data: [
				            		{% for item in chart["values"] %}
						             "{{item}}",
						            {% endfor %}
						    ],
				            borderWidth: 2,
				            backgroundColor: [
				            	{% for color in chart["color_palette"] %}
				            		'rgba({{ color }}, 0.4)',
				            	{% endfor %}
				            ],
				            baorderColor: [
				            	{% for color in chart["color_palette"] %}
				            		'rgba({{ color }}, 1)',
				            	{% endfor %}
				            ]
				        }]
				    },
				    {% if chart.options %}
				    	{{ chart.options | safe}}
				    {% else %}
					    options: {
					        legend: {
					            display: false,
					        },
					    	responsive: true,
					    	{% if type == 'bar' or type =='line' %}
						        scales: {
						            yAxes: [{
						                ticks: {
						                    beginAtZero: true
						                }
						            }]
						        }
						    {% endif %}
					    }
					{% endif %}
				});
				</script>
		    </div>
    	{% endfor %}
		</div>
{% endblock %}

{% block additional_js %}
{% endblock %}
